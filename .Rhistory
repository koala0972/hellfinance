geom_line(aes(y = signal), color = "blue", linetype = 2) +
geom_bar(aes(y = diff), stat = "identity", color = palette_light()[[1]]) +
facet_wrap(~ symbol, ncol = 2, scale = "free_y") +
labs(title = "Moving Average Convergence Divergence",
y = "MACD", x = "", color = "") +
theme_tq() +
scale_color_tq()
HU <- getSymbols("^TWII", auto.assign = FALSE, from = "2017-01-01")
HU <- HU[(rowSums(is.na(HU)) == 0), ]
HU <- tail(HU, n = 30)
HU <- round(HU, digits = 2)
HU <- as.data.frame(HU)
HU <- cbind(date = rownames(HU), HU)
names = gsub("^.....(.*$)", "\\1", names(HU))#點數等於字數
names(HU) <- tolower(names)
rownames(HU) <- 1:nrow(HU)
HU <- cbind(symbol = "GG", HU)
HU$date <- as.Date(HU$date, format =  "%Y-%m-%d")
HU <- as.tibble(HU)
FANG <-HU
FANG_macd <- HU %>%
group_by(symbol) %>%
tq_mutate(select     = close,
mutate_fun = MACD,
nFast      = 12,
nSlow      = 26,
nSig       = 9,
maType     = SMA) %>%
mutate(diff = macd - signal) %>%
select(-(open:volume))
HU <- getSymbols("^TWII", auto.assign = FALSE, from = "2017-01-01")
HU <- HU[(rowSums(is.na(HU)) == 0), ]
HU <- tail(HU, n = 50)
HU <- round(HU, digits = 2)
HU <- as.data.frame(HU)
HU <- cbind(date = rownames(HU), HU)
names = gsub("^.....(.*$)", "\\1", names(HU))#點數等於字數
names(HU) <- tolower(names)
rownames(HU) <- 1:nrow(HU)
HU <- cbind(symbol = "GG", HU)
HU$date <- as.Date(HU$date, format =  "%Y-%m-%d")
HU <- as.tibble(HU)
FANG <-HU
View(HU)
FANG_macd <- HU %>%
group_by(symbol) %>%
tq_mutate(select     = close,
mutate_fun = MACD,
nFast      = 12,
nSlow      = 26,
nSig       = 9,
maType     = SMA) %>%
mutate(diff = macd - signal) %>%
select(-(open:volume))
FANG_macd
FANG_macd %>%
filter(date >= as_date("2016-10-01")) %>%
ggplot(aes(x = date)) +
geom_hline(yintercept = 0, color = palette_light()[[1]]) +
geom_line(aes(y = macd, col = symbol)) +
geom_line(aes(y = signal), color = "blue", linetype = 2) +
geom_bar(aes(y = diff), stat = "identity", color = palette_light()[[1]]) +
facet_wrap(~ symbol, ncol = 2, scale = "free_y") +
labs(title = "Moving Average Convergence Divergence",
y = "MACD", x = "", color = "") +
theme_tq() +
scale_color_tq()
HU <- getSymbols("^TWII", auto.assign = FALSE, from = "2017-01-01")
HU <- HU[(rowSums(is.na(HU)) == 0), ]
HU <- tail(HU, n = 14)
HU <- round(HU, digits = 2)
HU <- as.data.frame(HU)
HU <- cbind(date = rownames(HU), HU)
names = gsub("^.....(.*$)", "\\1", names(HU))#點數等於字數
names(HU) <- tolower(names)
rownames(HU) <- 1:nrow(HU)
HU <- cbind(symbol = "GG", HU)
HU$date <- as.Date(HU$date, format =  "%Y-%m-%d")
HU <- as.tibble(HU)
FANG <-HU
FANG_macd <- HU %>%
group_by(symbol) %>%
tq_mutate(select     = close,
mutate_fun = MACD,
nFast      = 12,
nSlow      = 26,
nSig       = 9,
maType     = SMA) %>%
mutate(diff = macd - signal) %>%
select(-(open:volume))
FANG_macd
FANG_macd %>%
filter(date >= as_date("2016-10-01")) %>%
ggplot(aes(x = date)) +
geom_hline(yintercept = 0, color = palette_light()[[1]]) +
geom_line(aes(y = macd, col = symbol)) +
geom_line(aes(y = signal), color = "blue", linetype = 2) +
geom_bar(aes(y = diff), stat = "identity", color = palette_light()[[1]]) +
facet_wrap(~ symbol, ncol = 2, scale = "free_y") +
labs(title = "Moving Average Convergence Divergence",
y = "MACD", x = "", color = "") +
theme_tq() +
scale_color_tq()
FANG_macd <- HU %>%
group_by(symbol) %>%
tq_mutate(select     = close,
mutate_fun = MACD,
nFast      = 12,
nSlow      = 26,
nSig       = 9,
maType     = SMA) %>%
mutate(diff = macd - signal) %>%
select(-(open:volume))
HU <- getSymbols("^TWII", auto.assign = FALSE, from = "2017-01-01")
HU <- HU[(rowSums(is.na(HU)) == 0), ]
HU <- tail(HU, n = 30)
HU <- round(HU, digits = 2)
HU <- as.data.frame(HU)
HU <- cbind(date = rownames(HU), HU)
names = gsub("^.....(.*$)", "\\1", names(HU))#點數等於字數
names(HU) <- tolower(names)
rownames(HU) <- 1:nrow(HU)
HU <- cbind(symbol = "GG", HU)
HU$date <- as.Date(HU$date, format =  "%Y-%m-%d")
HU <- as.tibble(HU)
FANG <-HU
FANG_macd <- HU %>%
group_by(symbol) %>%
tq_mutate(select     = close,
mutate_fun = MACD,
nFast      = 12,
nSlow      = 26,
nSig       = 9,
maType     = SMA) %>%
mutate(diff = macd - signal) %>%
select(-(open:volume))
HU <- getSymbols("^TWII", auto.assign = FALSE, from = "2017-01-01")
HU <- HU[(rowSums(is.na(HU)) == 0), ]
HU <- tail(HU, n = 30)
HU <- round(HU, digits = 2)
HU <- as.data.frame(HU)
HU <- cbind(date = rownames(HU), HU)
names = gsub("^.....(.*$)", "\\1", names(HU))#點數等於字數
names(HU) <- tolower(names)
rownames(HU) <- 1:nrow(HU)
HU <- cbind(symbol = "GG", HU)
HU$date <- as.Date(HU$date, format =  "%Y-%m-%d")
HU <- as.tibble(HU)
FANG <-HU
FANG_macd <- HU %>%
group_by(symbol) %>%
tq_mutate(select     = close,
mutate_fun = MACD,
nFast      = 12,
nSlow      = 26,
nSig       = 9,
maType     = SMA) %>%
mutate(diff = macd - signal) %>%
select(-(open:volume))
library(tidyverse)
library(tidyquant)
library(lubridate)
library(Cairo)
library(showtext)
showtext_auto(enable=T)
thexml <- read.xlsx("more.xlsx",sheetName = "Sheet1" )
thexml$NA. <- NULL
thexml$date <- as.Date(thexml$date, format =  "%Y-%m-%d")
ggplot(thexml, aes(x=date)) + geom_line(aes(y = numb), color = "darkred")
nrow(thexml)
dday <- nrow(thexml)
dday <- nrow(thexml)
HU <- getSymbols("^TWII", auto.assign = FALSE, from = "2017-01-01")
HU <- HU[(rowSums(is.na(HU)) == 0), ]
HU <- tail(HU, n = dday)
HU <- round(HU, digits = 2)
HU <- as.data.frame(HU)
HU <- cbind(date = rownames(HU), HU)
names = gsub("^.....(.*$)", "\\1", names(HU))#點數等於字數
names(HU) <- tolower(names)
rownames(HU) <- 1:nrow(HU)
HU <- cbind(symbol = "GG", HU)
HU$date <- as.Date(HU$date, format =  "%Y-%m-%d")
HU <- as.tibble(HU)
View(HU)
thexml <- cbind(thexml, HU$close)
ggplot(thexml, aes(x=date)) + geom_line(aes(y = numb), color = "darkred") + geom_line(aes(y = close), color = "blue"))
ggplot(thexml, aes(x=date)) + geom_line(aes(y = numb), color = "darkred") + geom_line(aes(y = close), color = "blue")
View(thexml)
ggplot(thexml, aes(x=date)) + geom_line(aes(y = numb), color = "darkred") + geom_line(aes(y = HU$close), color = "blue")
View(HU)
View(thexml)
thexml$`HU$close`<- thexml$`HU$close`-16000
ggplot(thexml, aes(x=date)) + geom_line(aes(y = numb), color = "darkred") + geom_line(aes(y = HU$close), color = "blue")
View(thexml)
ggplot(thexml, aes(x=date)) + geom_line(aes(y = numb), color = "darkred") + geom_line(aes(y = thexml$`HU$close`), color = "blue")
View(HU)
thexml <- cbind(thexml, HU$low)
library(tidyverse)
library(tidyquant)
library(lubridate)
library(Cairo)
library(showtext)
showtext_auto(enable=T)
thexml <- read.xlsx("more.xlsx",sheetName = "Sheet1" )
thexml$NA. <- NULL
thexml$date <- as.Date(thexml$date, format =  "%Y-%m-%d")
ggplot(thexml, aes(x=date)) + geom_line(aes(y = numb), color = "darkred")
dday <- nrow(thexml)
HU <- getSymbols("^TWII", auto.assign = FALSE, from = "2017-01-01")
HU <- HU[(rowSums(is.na(HU)) == 0), ]
HU <- tail(HU, n = dday)
HU <- round(HU, digits = 2)
HU <- as.data.frame(HU)
HU <- cbind(date = rownames(HU), HU)
names = gsub("^.....(.*$)", "\\1", names(HU))#點數等於字數
names(HU) <- tolower(names)
rownames(HU) <- 1:nrow(HU)
HU <- cbind(symbol = "GG", HU)
HU$date <- as.Date(HU$date, format =  "%Y-%m-%d")
HU <- as.tibble(HU)
thexml <- cbind(thexml, HU$low)
thexml$`HU$low`<- thexml$`HU$low`-16000
ggplot(thexml, aes(x=date)) + geom_line(aes(y = numb), color = "darkred") + geom_line(aes(y = thexml$`HU$low`), color = "blue")
View(thexml)
library(tidyverse)
library(tidyquant)
library(lubridate)
library(Cairo)
library(showtext)
showtext_auto(enable=T)
thexml <- read.xlsx("more.xlsx",sheetName = "Sheet1" )
thexml$NA. <- NULL
thexml$date <- as.Date(thexml$date, format =  "%Y-%m-%d")
ggplot(thexml, aes(x=date)) + geom_line(aes(y = numb), color = "darkred")
dday <- nrow(thexml)
HU <- getSymbols("^TWII", auto.assign = FALSE, from = "2017-01-01")
HU <- HU[(rowSums(is.na(HU)) == 0), ]
HU <- tail(HU, n = dday)
HU <- round(HU, digits = 2)
HU <- as.data.frame(HU)
HU <- cbind(date = rownames(HU), HU)
names = gsub("^.....(.*$)", "\\1", names(HU))#點數等於字數
names(HU) <- tolower(names)
rownames(HU) <- 1:nrow(HU)
HU <- cbind(symbol = "GG", HU)
HU$date <- as.Date(HU$date, format =  "%Y-%m-%d")
HU <- as.tibble(HU)
thexml <- cbind(thexml, HU$low)
thexml$`HU$low`<- (thexml$`HU$low`-16000)*10
ggplot(thexml, aes(x=date)) + geom_line(aes(y = numb), color = "darkred") + geom_line(aes(y = thexml$`HU$low`), color = "blue")
View(HU)
thexml
thexml[14]
thexml[,14]
thexml[14,]
thexml[14,] <- NULL
thexml[14,] <- NULL
thexml <- thexml[-c(14)]
View(thexml)
thexml <- thexml[-c(14),]
View(thexml)
dday <- nrow(thexml)
HU <- getSymbols("^TWII", auto.assign = FALSE, from = "2017-01-01")
HU <- HU[(rowSums(is.na(HU)) == 0), ]
HU <- tail(HU, n = dday)
HU <- round(HU, digits = 2)
HU <- as.data.frame(HU)
HU <- cbind(date = rownames(HU), HU)
names = gsub("^.....(.*$)", "\\1", names(HU))#點數等於字數
names(HU) <- tolower(names)
rownames(HU) <- 1:nrow(HU)
HU <- cbind(symbol = "GG", HU)
HU$date <- as.Date(HU$date, format =  "%Y-%m-%d")
HU <- as.tibble(HU)
thexml <- cbind(thexml, HU$low)
thexml$`HU$low`<- (thexml$`HU$low`-16000)*10
ggplot(thexml, aes(x=date)) + geom_line(aes(y = numb), color = "darkred") + geom_line(aes(y = thexml$`HU$low`), color = "blue")
ggplot(thexml, aes(x=date)) + geom_line(aes(y = numb), color = "darkred") + geom_line(aes(y = thexml$`HU$low`), color = "blue")
library(tidyverse)
library(tidyquant)
library(lubridate)
library(Cairo)
library(showtext)
showtext_auto(enable=T)
thexml <- read.xlsx("more.xlsx",sheetName = "Sheet1" )
thexml$NA. <- NULL
thexml$date <- as.Date(thexml$date, format =  "%Y-%m-%d")
ggplot(thexml, aes(x=date)) + geom_line(aes(y = numb), color = "darkred")
thexml <- thexml[-c(14),]
dday <- nrow(thexml)
HU <- getSymbols("^TWII", auto.assign = FALSE, from = "2017-01-01")
HU <- HU[(rowSums(is.na(HU)) == 0), ]
HU <- tail(HU, n = dday)
HU <- round(HU, digits = 2)
HU <- as.data.frame(HU)
HU <- cbind(date = rownames(HU), HU)
names = gsub("^.....(.*$)", "\\1", names(HU))#點數等於字數
library(tidyverse)
library(tidyquant)
library(lubridate)
library(Cairo)
library(showtext)
showtext_auto(enable=T)
thexml <- read.xlsx("more.xlsx",sheetName = "Sheet1" )
thexml$NA. <- NULL
thexml$date <- as.Date(thexml$date, format =  "%Y-%m-%d")
thexml <- thexml[-c(14),]
dday <- nrow(thexml)
ggplot(thexml, aes(x=date)) + geom_line(aes(y = numb), color = "darkred")
HU <- getSymbols("^TWII", auto.assign = FALSE, from = "2017-01-01")
HU <- HU[(rowSums(is.na(HU)) == 0), ]
HU <- tail(HU, n = dday)
HU <- round(HU, digits = 2)
HU <- as.data.frame(HU)
HU <- cbind(date = rownames(HU), HU)
names = gsub("^.....(.*$)", "\\1", names(HU))#點數等於字數
names(HU) <- tolower(names)
rownames(HU) <- 1:nrow(HU)
HU <- cbind(symbol = "GG", HU)
HU$date <- as.Date(HU$date, format =  "%Y-%m-%d")
HU <- as.tibble(HU)
thexml <- cbind(thexml, HU$low)
thexml$`HU$low`<- (thexml$`HU$low`-16000)*10
ggplot(thexml, aes(x=date)) + geom_line(aes(y = numb), color = "darkred") + geom_line(aes(y = thexml$`HU$low`), color = "blue")
HU$high-HU$low
thexml$move <- HU$high-HU$low
View(thexml)
thexml$move <- (HU$high-HU$low)*10
View(thexml)
thexml$high <- HU$high
ggplot(thexml, aes(x=date)) +
geom_line(aes(y = numb), color = "darkred") + geom_line(aes(y = thexml$`HU$low`), color = "blue")
(tidyverse)
(tidyverse)
library(tidyverse)
library(tidyquant)
library(lubridate)
library(Cairo)
library(showtext)
showtext_auto(enable=T)
thexml <- read.xlsx("more.xlsx",sheetName = "Sheet1" )
thexml$NA. <- NULL
thexml$date <- as.Date(thexml$date, format =  "%Y-%m-%d")
thexml <- thexml[-c(14),]
dday <- nrow(thexml)
ggplot(thexml, aes(x=date)) + geom_line(aes(y = numb), color = "darkred")
HU <- getSymbols("^TWII", auto.assign = FALSE, from = "2017-01-01")
HU <- HU[(rowSums(is.na(HU)) == 0), ]
HU <- tail(HU, n = dday)
HU <- round(HU, digits = 2)
HU <- as.data.frame(HU)
HU <- cbind(date = rownames(HU), HU)
names = gsub("^.....(.*$)", "\\1", names(HU))#點數等於字數
names(HU) <- tolower(names)
rownames(HU) <- 1:nrow(HU)
HU <- cbind(symbol = "GG", HU)
HU$date <- as.Date(HU$date, format =  "%Y-%m-%d")
HU <- as.tibble(HU)
thexml$move <- (HU$high-HU$low)*10
thexml$low <- (HU$low-16000)*10
thexml$high <- (HU$high-16000)*10
ggplot(thexml, aes(x=date)) +
geom_line(aes(y = numb), color = "darkred") +
geom_line(aes(y = low), color = "blue") +
geom_line(aes(y = high), color = "gree") +
geom_line(aes(y = move), color = "yellow")
ggplot(thexml, aes(x=date)) +
geom_line(aes(y = numb), color = "darkred") +
geom_line(aes(y = low), color = "blue") +
geom_line(aes(y = high), color = "green") +
geom_line(aes(y = move), color = "yellow")
View(thexml)
thexml$move <- ((HU$high-HU$low)-200)*10
ggplot(thexml, aes(x=date)) +
geom_line(aes(y = numb), color = "darkred") +
geom_line(aes(y = low), color = "blue") +
geom_line(aes(y = high), color = "green") +
geom_line(aes(y = move), color = "yellow")
View(thexml)
thexml$move <- ((HU$high-HU$low)-200)*1000
ggplot(thexml, aes(x=date)) +
geom_line(aes(y = numb), color = "darkred") +
geom_line(aes(y = low), color = "blue") +
geom_line(aes(y = high), color = "green") +
geom_line(aes(y = move), color = "yellow")
thexml$move <- ((HU$high-HU$low)-200)*100
ggplot(thexml, aes(x=date)) +
geom_line(aes(y = numb), color = "darkred") +
geom_line(aes(y = low), color = "blue") +
geom_line(aes(y = high), color = "green") +
geom_line(aes(y = move), color = "yellow")
thexml$move <- ((HU$open-HU$close)-200)*100
thexml$low <- (HU$low-16000)*10
thexml$high <- (HU$high-16000)*10
ggplot(thexml, aes(x=date)) +
geom_line(aes(y = numb), color = "darkred") +
geom_line(aes(y = low), color = "blue") +
geom_line(aes(y = high), color = "green") +
geom_line(aes(y = move), color = "yellow")
thexml$move <- ((HU$open-HU$close)-200)*10
thexml$low <- (HU$low-16000)*10
thexml$high <- (HU$high-16000)*10
ggplot(thexml, aes(x=date)) +
geom_line(aes(y = numb), color = "darkred") +
geom_line(aes(y = low), color = "blue") +
geom_line(aes(y = high), color = "green") +
geom_line(aes(y = move), color = "yellow")
View(HU)
thexml$move <- ((HU$open-HU$close)-200)*50
View(HU)
View(thexml)
thexml$move <- ((HU$open-HU$close)-200)*50
thexml$move <- ((HU$open-HU$close))*10
thexml$low <- (HU$low-16000)*10
thexml$high <- (HU$high-16000)*10
ggplot(thexml, aes(x=date)) +
geom_line(aes(y = numb), color = "darkred") +
geom_line(aes(y = low), color = "blue") +
geom_line(aes(y = high), color = "green") +
geom_line(aes(y = move), color = "yellow")
thexml$move <- ((HU$open-HU$close))*100
ggplot(thexml, aes(x=date)) +
geom_line(aes(y = numb), color = "darkred") +
geom_line(aes(y = low), color = "blue") +
geom_line(aes(y = high), color = "green") +
geom_line(aes(y = move), color = "yellow")
View(HU)
thexml$move <- ((HU$open-HU$close))*100
ggplot(thexml, aes(x=date)) +
geom_line(aes(y = numb), color = "darkred") +
geom_line(aes(y = move), color = "blue")
View(thexml)
thexml$move <- ((HU$close-HU$open))*100
ggplot(thexml, aes(x=date)) +
geom_line(aes(y = numb), color = "darkred") +
geom_line(aes(y = move), color = "blue")
View(HU)
thexml$move <- ((HU$close-HU$low))*100
ggplot(thexml, aes(x=date)) +
geom_line(aes(y = numb), color = "darkred") +
geom_line(aes(y = move), color = "blue")
View(thexml)
thexml$close <- HU$close
ggplot(thexml, aes(x=date)) +
geom_line(aes(y = numb), color = "darkred") +
geom_line(aes(y = close), color = "green") +
geom_line(aes(y = move), color = "blue")
View(thexml)
View(thexml)
thexml$close <- (HU$close-17000)*100
ggplot(thexml, aes(x=date)) +
geom_line(aes(y = numb), color = "darkred") +
geom_line(aes(y = close), color = "green") +
geom_line(aes(y = move), color = "blue")
thexml$close <- (HU$close-17000)*10
ggplot(thexml, aes(x=date)) +
geom_line(aes(y = numb), color = "darkred") +
geom_line(aes(y = close), color = "green") +
geom_line(aes(y = move), color = "blue")
dday <- 100
HU <- getSymbols("^TWII", auto.assign = FALSE, from = "2017-01-01")
HU <- HU[(rowSums(is.na(HU)) == 0), ]
HU <- tail(HU, n = dday)
HU <- round(HU, digits = 2)
HU <- as.data.frame(HU)
HU <- cbind(date = rownames(HU), HU)
names = gsub("^.....(.*$)", "\\1", names(HU))#點數等於字數
names(HU) <- tolower(names)
rownames(HU) <- 1:nrow(HU)
HU <- cbind(symbol = "GG", HU)
HU$date <- as.Date(HU$date, format =  "%Y-%m-%d")
HU <- as.tibble(HU)
View(HU)
HU$move <- (HU$close-HU$low)*100
ggplot(HU, aes(x=date)) +
geom_line(aes(y = move), color = "blue")
HU$move <- (HU$close-HU$low)*10
ggplot(HU, aes(x=date)) +
geom_line(aes(y = move), color = "blue")
dday<- 30
HU <- getSymbols("^TWII", auto.assign = FALSE, from = "2017-01-01")
HU <- HU[(rowSums(is.na(HU)) == 0), ]
HU <- tail(HU, n = dday)
HU <- round(HU, digits = 2)
HU <- as.data.frame(HU)
HU <- cbind(date = rownames(HU), HU)
names = gsub("^.....(.*$)", "\\1", names(HU))#點數等於字數
names(HU) <- tolower(names)
rownames(HU) <- 1:nrow(HU)
HU <- cbind(symbol = "GG", HU)
HU$date <- as.Date(HU$date, format =  "%Y-%m-%d")
HU <- as.tibble(HU)
HU$move <- (HU$close-HU$low)*10
ggplot(HU, aes(x=date)) +
geom_line(aes(y = move), color = "blue")
dday<- 50
HU <- getSymbols("^TWII", auto.assign = FALSE, from = "2017-01-01")
HU <- HU[(rowSums(is.na(HU)) == 0), ]
HU <- tail(HU, n = dday)
HU <- round(HU, digits = 2)
HU <- as.data.frame(HU)
HU <- cbind(date = rownames(HU), HU)
names = gsub("^.....(.*$)", "\\1", names(HU))#點數等於字數
names(HU) <- tolower(names)
rownames(HU) <- 1:nrow(HU)
HU <- cbind(symbol = "GG", HU)
HU$date <- as.Date(HU$date, format =  "%Y-%m-%d")
HU <- as.tibble(HU)
HU$move <- (HU$close-HU$low)*10
ggplot(HU, aes(x=date)) +
geom_line(aes(y = move), color = "blue")
